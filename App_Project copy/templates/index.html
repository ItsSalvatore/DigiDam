<!DOCTYPE html>

<head>
    <title>Try out</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;800&display=swap" rel="stylesheet">
</head>

<body>
  <!-- Start navbar -->
  <div class="col-md-auto container-fluid">
    <ul class="nav flex-column nav-pills">
      <li><a href="/"><img src="/static/gemeenteamsterdam-removebg-preview.png" id="logo"></a></li>
      <li class="nav-item"><a href="/" class="nav-link active">Home</a></li>
      <li class="nav-item"><a href="/rollen" class="nav-link">Rollen</a></li>
      <li class="nav-item"><a href="/" class="nav-link">Track</a></li>
      <li class="nav-item"><a href="/" class="nav-link">Voorspellingen</a></li>
      <li class="nav-item">
        <form action="/import" method="post" enctype="multipart/form-data" class="px-3 d-inline">
          <input type="file" name="file" accept=".csv,.xml,.xlsx" id="file" style="display:none;" onchange="this.form.submit()">
          <label for="file" class="nav-link" style="cursor: pointer;">Import</label>
        </form>
      </li>
      <li class="nav-item dropdown" id="instellingen"><a href="/" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Instellingen</a>
        <div class="dropdown-menu dropdown-menu-right">
          <a class="dropdown-item" href="#">Action</a>
          <a class="dropdown-item" href="#">Another action</a>
          <a class="dropdown-item" href="#">something else </a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="#">Separated link</a>
        </div>
      </li>
      <li class="nav-item"><a href="/" class="nav-link">Profiel</a></li>
      <li class="nav-item" id="loguit"><a href="/" class="nav-link">Log uit</a></li>
    </ul>
</div>
<!-- End navbar -->
  <!-- End navbar -->


{# Begin body home pagina #}
<div class="container">
      <div class="row">
        <div class="col" id="team"> 
          <p >Projecten</p>
          <p id="caption">Het aantal opdrachten, nu en in de toekomst</p>
          <canvas id="projectChart" width="100px" style="max-height:300px;"></canvas>
        </div>

        <div class="col" id="chart" style="height: 400px;"> 
          <p id="charttitle">Huidige Bezetting APP</p>
          <p id="caption">De huidige bezetting van de rollen binnen APP, in %</p>
          <canvas id="bezettingChart" width="100px" style="max-height:300px;"></canvas>
        </div>
      </div>
    </div>

    <!-- diya -->

    <!-- medewerkers diagram -->
    <div class="card shadow mb-4">
      <div class="card-header py-3" id="medewerkers">
          <h6 class="m-0 font-weight-bold text-primary">Medewerkers</h6>
      </div>
      
<!-- dropdown button -->
<div class="dropdown">
  <button onclick="myFunction()" class="dropbtn">2024</button>
  <div id="myDropdown" class="dropdown-content">
    <a href="#support">2020</a>
    <a href="#support">2021</a>
    <a id="2022" onclick="choose2022()">2022</a>
    <a href="#base">2023</a>
    <a href="#blog">2025</a>
    <a href="#contact">2026</a>
    <a href="#custom">2027</a>
  </div>
</div>

<script>
 /* test lukt nu niet man later proberen*/
function choose2022() {
 const chosenData = data.filter(scrummasters_2022 => scrummasters_2022)
 displayData(chosenData)
}
 /* einde test */

  /* When the user clicks on the button,
  toggle between hiding and showing the dropdown content */
  function myFunction() {
    document.getElementById("myDropdown").classList.toggle("show");
  }
  
  function filterFunction() {
    var input, filter, ul, li, a, i;
    input = document.getElementById("myInput");
    filter = input.value.toUpperCase();
    div = document.getElementById("myDropdown");
    a = div.getElementsByTagName("a");
    for (i = 0; i < a.length; i++) {
      txtValue = a[i].textContent || a[i].innerText;
      if (txtValue.toUpperCase().indexOf(filter) > -1) {
        a[i].style.display = "";
      } else {
        a[i].style.display = "none";
      }
    }
  }
  </script>

<!-- einde dropdown -->

<!-- begin progressiebar -->

      <div class="card-body">
          {% if scrummasters_2024 is defined %}
          <h4 class="small font-weight-bold">Scrummaster<span
                  class="float-right"> {{scrummasters_2024}}</span></h4>
          <div class="progress mb-4">
              <div class="progress-bar bg-danger" role="progressbar" style="width:{{ 100 * scrummasters_2024 / 35 }}%"
                  aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">{{100 * scrummasters_2024 // 35 }} %</div> <p class="nogtegaan"> 2 </p>      
          </div>
          {%endif%}

          {% if agilecoaches_2024 is defined %}
          <h4 class="small font-weight-bold"> Agile Coach <span
                  class="float-right"></span> {{agilecoaches_2024}} </h4>
          <div class="progress mb-4">
              <div class="progress-bar bg-warning" role="progressbar" style="width:{{ 100 * agilecoaches_2024 / 5 }}%"
                  aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">{{100 * agilecoaches_2024 // 5 }} %</div>
          </div>
          {%endif%}

          {% if productowners_2024 is defined %}
          <h4 class="small font-weight-bold">Product Owners<span
                  class="float-right"></span> {{productowners_2024}}</h4>
          <div class="progress mb-4">
              <div class="progress-bar" role="progressbar" style="width:{{ 100 * productowners_2024 / 10 }}%"
                  aria-valuenow="60" aria-valuemin="0" aria-valuemax="100">{{100 * productowners_2024 // 10 }} %</div><p class="nogtegaan"> 1 </p>
          </div>
          {%endif%}

          {% if RTE_2024 is defined %}
          <h4 class="small font-weight-bold"> RTE<span
                  class="float-right"></span> {{ RTE_2024}}</h4>
          <div class="progress mb-4">
              <div class="progress-bar bg-info" role="progressbar" style="width:{{ 100 * RTE_2024 / 4 }}%"
                  aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">{{100 * RTE_2024 // 4 }} %</div><p class="nogtegaan"> 2 </p>
          </div>
          {%endif%}

          {% if ATE_2024 is defined %}
          <h4 class="small font-weight-bold"> ATE<span
                  class="float-right"></span> {{ATE_2024}}</h4>
          <div class="progress mb-4">
              <div class="progress-bar bg-info" role="progressbar" style="width:{{ 100 * ATE_2024 / 7 }}%"
                  aria-valuenow="80" aria-valuemin="0" aria-valuemax="100">{{100 * ATE_2024 // 7 }} %</div><p class="nogtegaan"> 2 </p>
          </div>
          {%endif%}

          {% if projectmanager_2024 is defined %}
          <h4 class="small font-weight-bold"> Project Managers <span
                  class="float-right"></span> {{projectmanager_2024}}</h4>
          <div class="progress mb-4">
              <div class="progress-bar bg-info" role="progressbar" style="width:{{ 100 * projectmanager_2024 / 110 }}%"
                  aria-valuenow="80" aria-valuemin="0" aria-valuemax="100">{{100 * projectmanager_2024 // 110 }} %</div><p class="nogtegaan"> 37 </p>
          </div>
          {%endif%}

          {% if PMO_2024 is defined %}
          <h4 class="small font-weight-bold"> PMO's<span
                  class="float-right"></span> {{PMO_2024}}</h4>
          <div class="progress mb-4">
              <div class="progress-bar bg-info" role="progressbar" style="width:{{ 100 * PMO_2024 / 11 }}%"
                  aria-valuenow="80" aria-valuemin="0" aria-valuemax="100">{{100 * PMO_2024 // 11 }} %</div>
          </div>
          {%endif%}

          {% if PGM_2024 is defined %}
          <h4 class="small font-weight-bold"> PGM's<span
                  class="float-right"></span> {{PGM_2024}}</h4>
          <div class="progress mb-4">
              <div class="progress-bar bg-info" role="progressbar" style="width:{{ 100 * PGM_2024 / 12 }}%"
                  aria-valuenow="80" aria-valuemin="0" aria-valuemax="100">{{100 * PGM_2024 // 12 }} %</div><p class="nogtegaan"> 7 </p>
          </div>
          {%endif%}

      </div>
    </div>


<!-- diya -->


{# einde body home pagina #}


<!-- vanaf hier is gewoon bullshit -->



{% if data is defined %}
  <!-- Start javascript -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="../static/chart.js"></script>

  <script>

  const chart1 = document.getElementById('projectChart').getContext('2d');
  new Chart(chart1, {
    type: 'line',
    data: {
      labels: ['2020', '2021', '2022', '2023', '2024', '2025', '2026', '2027'],
      datasets: [{
        label: 'Projecten',
        data: [3, 17, 101, 115, 135, 156, 176, 197, ],
        borderColor: '#009DEC',
        backgroundColor: '#009DEC',
        fill: false
      }]
     },
       options: {
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });
    
    const chart2 = document.getElementById('bezettingChart').getContext('2d');
    new Chart(chart2, {
        type: 'pie',
        data: {
            labels: ['Scrummaster', 'Agile coach', 'Ambitie coach', 'PJ manager', 'PO', 'RTE'],
            datasets: [{
                label: '# of Employees',
                data: [{{data.scrummasters}}, {{data.AC}}, {{data.AM}}, {{data.PJ}}, {{data.PO}}, {{data.RTE}}],
                backgroundColor: [
                    '#A00078',
                    '#E50082',
                    '#00A03C',
                    '#BED200',
                    '#FFE600',
                    '#FF9100',
                ],
                borderColor: [
                    '#A00078',
                    '#E50082',
                    '#00A03C',
                    '#BED200',
                    '#FFE600',
                    '#FF9100',
                ],
                borderWidth: 1
            }]
        },
    });
  </script>



  <!-- End javascript -->
  {%endif%}

</body>
</html>